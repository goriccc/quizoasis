# QuizOasis Development Rules

## Social Sharing Multilingual Requirements (CRITICAL)

### 1. Social Sharing Message Localization
‚ùå DON'T:
- Hardcode Korean sharing messages in social sharing functions
- Use hardcoded Korean text in shareToKakao, shareToWeChat, shareToWhatsApp, shareToTelegram, shareToLine functions
- Leave alert messages in Korean only (e.g., "ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!", "Ïπ¥Ïπ¥Ïò§ÌÜ° Í≥µÏú† Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")
- Ignore locale parameter in sharing functions

‚úÖ DO:
- Implement locale-based conditional rendering for ALL social sharing functions
- Use t() function for all sharing messages: `t('testName.shareMessages.platform', { type: resultTitle })`
- Localize ALL alert messages in sharing functions
- Create language-specific sharing messages for each platform
- Ensure consistent multilingual support across all sharing methods

### 2. Social Sharing Functions to Localize
‚úÖ DO localize ALL of these functions:
- handleShareResult() - Default sharing function
- shareToKakao() - KakaoTalk sharing
- shareToWeChat() - WeChat sharing  
- shareToWhatsApp() - WhatsApp sharing
- shareToTelegram() - Telegram sharing
- shareToLine() - Line sharing
- copyLink() - Link copy function

### 3. Social Sharing Message Pattern
‚úÖ DO use this pattern for all sharing messages:
```typescript
// In messages files (ko.json, en.json, etc.)
"testName": {
  "shareMessages": {
    "default": "ÎÇòÎäî {type}! ÌÖåÏä§Ìä∏ Í≤∞Í≥º... ÎÑàÎäî Ïñ¥ÎñªÍ≤å Ìï¥? Í∞ôÏù¥ Ìï¥Î≥¥Ïûê! üí∞",
    "kakao": "ÎÇòÎäî {type}! ÌÖåÏä§Ìä∏ Í≤∞Í≥º... ÎÑàÎäî Ïñ¥ÎñªÍ≤å Ìï¥? Í∞ôÏù¥ Ìï¥Î≥¥Ïûê! üí∞",
    "wechat": "ÎÇòÎäî {type}! ÌÖåÏä§Ìä∏ Í≤∞Í≥º... ÎÑàÎäî Ïñ¥ÎñªÍ≤å Ìï¥? Í∞ôÏù¥ Ìï¥Î≥¥Ïûê! üí∞",
    "whatsapp": "ÎÇòÎäî {type}! ÌÖåÏä§Ìä∏ Í≤∞Í≥º... ÎÑàÎäî Ïñ¥ÎñªÍ≤å Ìï¥? Í∞ôÏù¥ Ìï¥Î≥¥Ïûê! üí∞",
    "telegram": "ÎÇòÎäî {type}! ÌÖåÏä§Ìä∏ Í≤∞Í≥º... ÎÑàÎäî Ïñ¥ÎñªÍ≤å Ìï¥? Í∞ôÏù¥ Ìï¥Î≥¥Ïûê! üí∞",
    "line": "ÎÇòÎäî {type}! ÌÖåÏä§Ìä∏ Í≤∞Í≥º... ÎÑàÎäî Ïñ¥ÎñªÍ≤å Ìï¥? Í∞ôÏù¥ Ìï¥Î≥¥Ïûê! üí∞"
  }
}

// In component functions
const shareText = t('testName.shareMessages.default', { type: resultTitle });
const shareDescription = t('testName.shareMessages.kakao', { type: resultTitle });
```

### 4. Alert Message Localization
‚úÖ DO localize ALL alert messages in sharing functions:
- Clipboard copy success messages
- Sharing feature error messages  
- WeChat link copy instructions
- KakaoTalk initialization messages
- Any user-facing text in sharing functions

### 5. UI Text Localization for Social Sharing
‚úÖ DO localize ALL UI elements related to social sharing:
- Button alt texts: `alt={t('testName.ui.linkCopy')}`, `alt={t('testName.ui.kakao')}`
- AdSense labels: `label={t('testName.ui.adsenseTitle')}`
- Similar tests section: `{t('testName.ui.similarTests')}`
- All user-facing text in result screens

### 6. Social Sharing Implementation Checklist
‚úÖ DO verify these when implementing social sharing:
- [ ] All sharing functions use t() for messages
- [ ] All alert messages are localized
- [ ] All UI text elements are localized
- [ ] All 7 languages have complete translation keys
- [ ] Share messages work correctly in all languages
- [ ] No hardcoded Korean text remains in components
- [ ] Consistent multilingual experience across all sharing platforms

## Example: Optimism Test Implementation

### Translation Files Structure
```json
{
  "optimismTest": {
    "shareMessages": {
      "default": "ÎÇòÎäî {type}! üå§Ô∏è ÏªµÏóê Î¨ºÏù¥ Î∞ò? ÎÑàÎäî Ïñ¥ÎñªÍ≤å Î≥ºÎûò?",
      "kakao": "ÎÇòÎäî {type}! üå§Ô∏è ÏªµÏóê Î¨ºÏù¥ Î∞ò? ÎÑàÎäî Ïñ¥ÎñªÍ≤å Î≥ºÎûò?",
      "wechat": "ÎÇòÎäî {type}! üå§Ô∏è ÏªµÏóê Î¨ºÏù¥ Î∞ò? ÎÑàÎäî Ïñ¥ÎñªÍ≤å Î≥ºÎûò?",
      "whatsapp": "ÎÇòÎäî {type}! üå§Ô∏è ÏªµÏóê Î¨ºÏù¥ Î∞ò? ÎÑàÎäî Ïñ¥ÎñªÍ≤å Î≥ºÎûò?",
      "telegram": "ÎÇòÎäî {type}! üå§Ô∏è ÏªµÏóê Î¨ºÏù¥ Î∞ò? ÎÑàÎäî Ïñ¥ÎñªÍ≤å Î≥ºÎûò?",
      "line": "ÎÇòÎäî {type}! üå§Ô∏è ÏªµÏóê Î¨ºÏù¥ Î∞ò? ÎÑàÎäî Ïñ¥ÎñªÍ≤å Î≥ºÎûò?"
    },
    "alerts": {
      "linkCopied": "ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!",
      "resultCopied": "Í≤∞Í≥ºÍ∞Ä ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!",
      "shareFailed": "Í≥µÏú† Í∏∞Îä•ÏùÑ ÏÇ¨Ïö©Ìï† Ïàò ÏóÜÏäµÎãàÎã§.",
      "wechatCopy": "ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§! WeChatÏóêÏÑú Î∂ôÏó¨ÎÑ£Í∏∞ ÌïòÏó¨ Í≥µÏú†ÌïòÏÑ∏Ïöî.",
      "kakaoInit": "Ïπ¥Ïπ¥Ïò§ÌÜ° Í≥µÏú† Í∏∞Îä•ÏùÑ Ï¥àÍ∏∞ÌôîÌïòÎäî Ï§ëÏûÖÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.",
      "kakaoError": "Ïπ¥Ïπ¥Ïò§ÌÜ° Í≥µÏú† Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§."
    }
  }
}
```

### Component Implementation Pattern
```typescript
// ‚úÖ CORRECT - Multilingual sharing
const handleShareResult = async () => {
  if (!result) return;
  
  const resultTitle = result.title[locale as keyof typeof result.title] || result.title.ko;
  const shareMessage = t('optimismTest.shareMessages.default', { type: resultTitle });
  const shareText = `${shareMessage}\n\n${url}`;
  
  // ... rest of implementation
};

// ‚ùå WRONG - Hardcoded Korean text
const handleShareResult = async () => {
  const shareText = `ÎÇòÎäî ${resultTitle}! üå§Ô∏è ÏªµÏóê Î¨ºÏù¥ Î∞ò? ÎÑàÎäî Ïñ¥ÎñªÍ≤å Î≥ºÎûò?\n\n${url}`;
  // Korean text hardcoded
};
```

## Slug Management Rules (CRITICAL)

### 1. Slug Uniqueness Requirements
‚ùå DON'T:
- Overwrite existing slugs with new content
- Use the same slug for different tests
- Change existing slug mappings without explicit user permission
- Assume you can modify existing slug behavior

‚úÖ DO:
- ALWAYS create new unique slugs for new tests
- Check existing slugs before creating new ones
- Ask user for explicit permission before modifying existing slugs
- Use descriptive, unique slug names that don't conflict

### 2. Slug Conflict Resolution
‚úÖ DO follow this process:
1. **Check existing slugs first** - Search for similar slugs in the codebase
2. **Create unique slug** - If similar content exists, use a different slug name
3. **Ask user permission** - If you must modify existing slug, ask explicitly
4. **Document changes** - Clearly explain what slug changes were made

### 3. Slug Naming Convention
‚úÖ DO use descriptive, unique names:
- `test-name-1`, `test-name-2` for similar tests
- `test-name-v2` for updated versions
- `test-name-extreme` for harder versions
- `test-name-advanced` for advanced versions

‚ùå DON'T reuse existing slugs:
- If `extreme-quiz` exists, don't use it for different content
- If `mensa-test` exists, don't overwrite it with new content
- Always create new slugs: `mensa-extreme`, `mensa-advanced`, etc.

## Common Mistakes to Avoid

1. **Hardcoding Korean in sharing functions** - Always use t() function
2. **Missing alert localizations** - All user-facing alerts must be localized
3. **Inconsistent message formats** - Keep message structure consistent across platforms
4. **Missing translation keys** - Ensure all 7 languages have complete keys
5. **Ignoring locale parameter** - Always check locale before displaying text
6. **Slug conflicts** - NEVER overwrite existing slugs without explicit permission
7. **Slug reuse** - Always create unique slugs for new content
